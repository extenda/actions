# CloudDeploy

- [1. Property `CloudDeploy > oneOf > CloudRun`](#oneOf_i0)
  - [1.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run`](#oneOf_i0_cloud-run)
    - [1.1.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run > service`](#oneOf_i0_cloud-run_service)
    - [1.1.2. Property `CloudDeploy > oneOf > CloudRun > cloud-run > resources`](#oneOf_i0_cloud-run_resources)
    - [1.1.3. Property `CloudDeploy > oneOf > CloudRun > cloud-run > protocol`](#oneOf_i0_cloud-run_protocol)
    - [1.1.4. Property `CloudDeploy > oneOf > CloudRun > cloud-run > timeout`](#oneOf_i0_cloud-run_timeout)
    - [1.1.5. Property `CloudDeploy > oneOf > CloudRun > cloud-run > scaling`](#oneOf_i0_cloud-run_scaling)
      - [1.1.5.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run > scaling > concurrency`](#oneOf_i0_cloud-run_scaling_concurrency)
- [2. Property `CloudDeploy > oneOf > Kubernetes`](#oneOf_i1)
  - [2.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes`](#oneOf_i1_kubernetes)
    - [2.1.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > service`](#oneOf_i1_kubernetes_service)
    - [2.1.2. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > type`](#oneOf_i1_kubernetes_type)
    - [2.1.3. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > resources`](#oneOf_i1_kubernetes_resources)
    - [2.1.4. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > protocol`](#oneOf_i1_kubernetes_protocol)
    - [2.1.5. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > timeout`](#oneOf_i1_kubernetes_timeout)
    - [2.1.6. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > scaling`](#oneOf_i1_kubernetes_scaling)
      - [2.1.6.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > scaling > cpu`](#oneOf_i1_kubernetes_scaling_cpu)
    - [2.1.7. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes`](#oneOf_i1_kubernetes_volumes)
      - [2.1.7.1. CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume](#autogenerated_heading_2)
        - [2.1.7.1.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > disk-type`](#oneOf_i1_kubernetes_volumes_items_disk-type)
        - [2.1.7.1.2. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > size`](#oneOf_i1_kubernetes_volumes_items_size)
        - [2.1.7.1.3. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > mount-path`](#oneOf_i1_kubernetes_volumes_items_mount-path)
- [3. Property `CloudDeploy > labels`](#labels)
  - [3.1. Property `CloudDeploy > labels > component`](#labels_component)
  - [3.2. Property `CloudDeploy > labels > product`](#labels_product)
  - [3.3. Property `CloudDeploy > labels > iso-country`](#labels_iso-country)
  - [3.4. Property `CloudDeploy > labels > tenant-alias`](#labels_tenant-alias)
  - [3.5. Pattern Property `CloudDeploy > labels > Label`](#labels_pattern1)
- [4. Property `CloudDeploy > security`](#security)
  - [4.1. Property `CloudDeploy > security > oneOf > SecurityNone`](#security_oneOf_i0)
  - [4.2. Property `CloudDeploy > security > oneOf > IAMSettings`](#security_oneOf_i1)
    - [4.2.1. Property `CloudDeploy > security > oneOf > IAMSettings > permission-prefix`](#security_oneOf_i1_permission-prefix)
    - [4.2.2. Property `CloudDeploy > security > oneOf > IAMSettings > resources`](#security_oneOf_i1_resources)
      - [4.2.2.1. Property `CloudDeploy > security > oneOf > IAMSettings > resources > cpu`](#security_oneOf_i1_resources_cpu)
      - [4.2.2.2. Property `CloudDeploy > security > oneOf > IAMSettings > resources > memory`](#security_oneOf_i1_resources_memory)
- [5. Property `CloudDeploy > environments`](#environments)
  - [5.1. Property `CloudDeploy > environments > production`](#environments_production)
    - [5.1.1. Property `CloudDeploy > environments > production > min-instances`](#environments_production_min-instances)
    - [5.1.2. Property `CloudDeploy > environments > production > max-instances`](#environments_production_max-instances)
    - [5.1.3. Property `CloudDeploy > environments > production > domain-mappings`](#environments_production_domain-mappings)
      - [5.1.3.1. CloudDeploy > environments > production > domain-mappings > Domain](#autogenerated_heading_3)
    - [5.1.4. Property `CloudDeploy > environments > production > env`](#environments_production_env)
      - [5.1.4.1. Pattern Property `CloudDeploy > environments > production > env > EnvVar`](#environments_production_env_pattern1)
    - [5.1.5. Property `CloudDeploy > environments > production > regions`](#environments_production_regions)
      - [5.1.5.1. CloudDeploy > environments > production > regions > GoogleRegion](#autogenerated_heading_4)
  - [5.2. Property `CloudDeploy > environments > staging`](#environments_staging)
    - [5.2.1. Property `CloudDeploy > environments > staging > oneOf > StagingNone`](#environments_staging_oneOf_i0)
    - [5.2.2. Property `CloudDeploy > environments > staging > oneOf > Environment`](#environments_staging_oneOf_i1)

**Title:** CloudDeploy

|                           |                                                                           |
| ------------------------- | ------------------------------------------------------------------------- |
| **Type**                  | `combining`                                                               |
| **Required**              | No                                                                        |
| **Additional properties** | [[Any type: allowed]](# "Additional Properties of any type are allowed.") |

| Property                         | Pattern | Type   | Deprecated | Definition              | Title/Description   |
| -------------------------------- | ------- | ------ | ---------- | ----------------------- | ------------------- |
| + [labels](#labels )             | No      | object | No         | In #/$defs/Labels       | -                   |
| + [security](#security )         | No      | object | No         | In #/$defs/Security     | -                   |
| + [environments](#environments ) | No      | object | No         | In #/$defs/Environments | Deploy environments |

| One of(Option)          |
| ----------------------- |
| [CloudRun](#oneOf_i0)   |
| [Kubernetes](#oneOf_i1) |

## <a name="oneOf_i0"></a>1. Property `CloudDeploy > oneOf > CloudRun`

**Title:** CloudRun

|                           |                                                                           |
| ------------------------- | ------------------------------------------------------------------------- |
| **Type**                  | `object`                                                                  |
| **Required**              | No                                                                        |
| **Additional properties** | [[Any type: allowed]](# "Additional Properties of any type are allowed.") |

| Property                            | Pattern | Type   | Deprecated | Definition          | Title/Description         |
| ----------------------------------- | ------- | ------ | ---------- | ------------------- | ------------------------- |
| + [cloud-run](#oneOf_i0_cloud-run ) | No      | object | No         | In #/$defs/CloudRun | Managed Cloud Run service |

### <a name="oneOf_i0_cloud-run"></a>1.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Defined in**            | #/$defs/CloudRun                                        |

**Description:** Managed Cloud Run service

| Property                                      | Pattern | Type             | Deprecated | Definition                                         | Title/Description                                                                        |
| --------------------------------------------- | ------- | ---------------- | ---------- | -------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| + [service](#oneOf_i0_cloud-run_service )     | No      | string           | No         | In #/$defs/ServiceName                             | Service name                                                                             |
| + [resources](#oneOf_i0_cloud-run_resources ) | No      | object           | No         | Same as [resources](#security_oneOf_i1_resources ) | The requested resources                                                                  |
| + [protocol](#oneOf_i0_cloud-run_protocol )   | No      | enum (of string) | No         | In #/$defs/Protocol                                | The type of protocol. Make sure to set http2 if this service is using gRPC or WebSockets |
| - [timeout](#oneOf_i0_cloud-run_timeout )     | No      | integer          | No         | In #/$defs/RequestTimeout                          | The request timeout in seconds                                                           |
| + [scaling](#oneOf_i0_cloud-run_scaling )     | No      | object           | No         | -                                                  | ScalingCloudRun                                                                          |

#### <a name="oneOf_i0_cloud-run_service"></a>1.1.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run > service`

|                |                     |
| -------------- | ------------------- |
| **Type**       | `string`            |
| **Required**   | Yes                 |
| **Defined in** | #/$defs/ServiceName |

**Description:** Service name

#### <a name="oneOf_i0_cloud-run_resources"></a>1.1.2. Property `CloudDeploy > oneOf > CloudRun > cloud-run > resources`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Same definition as**    | [resources](#security_oneOf_i1_resources)               |

**Description:** The requested resources

#### <a name="oneOf_i0_cloud-run_protocol"></a>1.1.3. Property `CloudDeploy > oneOf > CloudRun > cloud-run > protocol`

|                |                    |
| -------------- | ------------------ |
| **Type**       | `enum (of string)` |
| **Required**   | Yes                |
| **Defined in** | #/$defs/Protocol   |

**Description:** The type of protocol. Make sure to set http2 if this service is using gRPC or WebSockets

Must be one of:
* "http"
* "http2"

#### <a name="oneOf_i0_cloud-run_timeout"></a>1.1.4. Property `CloudDeploy > oneOf > CloudRun > cloud-run > timeout`

|                |                        |
| -------------- | ---------------------- |
| **Type**       | `integer`              |
| **Required**   | No                     |
| **Default**    | `300`                  |
| **Defined in** | #/$defs/RequestTimeout |

**Description:** The request timeout in seconds

| Restrictions |           |
| ------------ | --------- |
| **Minimum**  | &ge; 1    |
| **Maximum**  | &le; 3600 |

#### <a name="oneOf_i0_cloud-run_scaling"></a>1.1.5. Property `CloudDeploy > oneOf > CloudRun > cloud-run > scaling`

**Title:** ScalingCloudRun

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |

**Description:** Scaling settings for Cloud Run

| Property                                                  | Pattern | Type    | Deprecated | Definition | Title/Description                                          |
| --------------------------------------------------------- | ------- | ------- | ---------- | ---------- | ---------------------------------------------------------- |
| + [concurrency](#oneOf_i0_cloud-run_scaling_concurrency ) | No      | integer | No         | -          | Concurrent number of requests that an instance can handle. |

##### <a name="oneOf_i0_cloud-run_scaling_concurrency"></a>1.1.5.1. Property `CloudDeploy > oneOf > CloudRun > cloud-run > scaling > concurrency`

|              |           |
| ------------ | --------- |
| **Type**     | `integer` |
| **Required** | Yes       |

**Description:** Concurrent number of requests that an instance can handle.

| Restrictions |           |
| ------------ | --------- |
| **Minimum**  | &ge; 10   |
| **Maximum**  | &le; 1000 |

## <a name="oneOf_i1"></a>2. Property `CloudDeploy > oneOf > Kubernetes`

**Title:** Kubernetes

|                           |                                                                           |
| ------------------------- | ------------------------------------------------------------------------- |
| **Type**                  | `object`                                                                  |
| **Required**              | No                                                                        |
| **Additional properties** | [[Any type: allowed]](# "Additional Properties of any type are allowed.") |

| Property                              | Pattern | Type   | Deprecated | Definition            | Title/Description    |
| ------------------------------------- | ------- | ------ | ---------- | --------------------- | -------------------- |
| + [kubernetes](#oneOf_i1_kubernetes ) | No      | object | No         | In #/$defs/Kubernetes | A kubernetes service |

### <a name="oneOf_i1_kubernetes"></a>2.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Defined in**            | #/$defs/Kubernetes                                      |

**Description:** A kubernetes service

| Property                                       | Pattern | Type             | Deprecated | Definition                                         | Title/Description                                                                        |
| ---------------------------------------------- | ------- | ---------------- | ---------- | -------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| + [service](#oneOf_i1_kubernetes_service )     | No      | string           | No         | Same as [service](#oneOf_i0_cloud-run_service )    | Service name                                                                             |
| + [type](#oneOf_i1_kubernetes_type )           | No      | enum (of string) | No         | -                                                  | The type of service                                                                      |
| + [resources](#oneOf_i1_kubernetes_resources ) | No      | object           | No         | Same as [resources](#security_oneOf_i1_resources ) | The requested resources                                                                  |
| + [protocol](#oneOf_i1_kubernetes_protocol )   | No      | enum (of string) | No         | Same as [protocol](#oneOf_i0_cloud-run_protocol )  | The type of protocol. Make sure to set http2 if this service is using gRPC or WebSockets |
| - [timeout](#oneOf_i1_kubernetes_timeout )     | No      | integer          | No         | Same as [timeout](#oneOf_i0_cloud-run_timeout )    | The request timeout in seconds                                                           |
| + [scaling](#oneOf_i1_kubernetes_scaling )     | No      | object           | No         | -                                                  | ScalingKubernetes                                                                        |
| - [volumes](#oneOf_i1_kubernetes_volumes )     | No      | array of object  | No         | -                                                  | Volumes                                                                                  |

#### <a name="oneOf_i1_kubernetes_service"></a>2.1.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > service`

|                        |                                        |
| ---------------------- | -------------------------------------- |
| **Type**               | `string`                               |
| **Required**           | Yes                                    |
| **Same definition as** | [service](#oneOf_i0_cloud-run_service) |

**Description:** Service name

#### <a name="oneOf_i1_kubernetes_type"></a>2.1.2. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > type`

|              |                    |
| ------------ | ------------------ |
| **Type**     | `enum (of string)` |
| **Required** | Yes                |

**Description:** The type of service

Must be one of:
* "Deployment"
* "StatefulSet"

#### <a name="oneOf_i1_kubernetes_resources"></a>2.1.3. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > resources`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Same definition as**    | [resources](#security_oneOf_i1_resources)               |

**Description:** The requested resources

#### <a name="oneOf_i1_kubernetes_protocol"></a>2.1.4. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > protocol`

|                        |                                          |
| ---------------------- | ---------------------------------------- |
| **Type**               | `enum (of string)`                       |
| **Required**           | Yes                                      |
| **Same definition as** | [protocol](#oneOf_i0_cloud-run_protocol) |

**Description:** The type of protocol. Make sure to set http2 if this service is using gRPC or WebSockets

#### <a name="oneOf_i1_kubernetes_timeout"></a>2.1.5. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > timeout`

|                        |                                        |
| ---------------------- | -------------------------------------- |
| **Type**               | `integer`                              |
| **Required**           | No                                     |
| **Default**            | `300`                                  |
| **Same definition as** | [timeout](#oneOf_i0_cloud-run_timeout) |

**Description:** The request timeout in seconds

#### <a name="oneOf_i1_kubernetes_scaling"></a>2.1.6. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > scaling`

**Title:** ScalingKubernetes

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |

**Description:** Scaling settings for Kubernetes

| Property                                   | Pattern | Type    | Deprecated | Definition | Title/Description                               |
| ------------------------------------------ | ------- | ------- | ---------- | ---------- | ----------------------------------------------- |
| + [cpu](#oneOf_i1_kubernetes_scaling_cpu ) | No      | integer | No         | -          | Average CPU percentage utilization for scaling. |

##### <a name="oneOf_i1_kubernetes_scaling_cpu"></a>2.1.6.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > scaling > cpu`

|              |           |
| ------------ | --------- |
| **Type**     | `integer` |
| **Required** | Yes       |

**Description:** Average CPU percentage utilization for scaling.

| Restrictions |          |
| ------------ | -------- |
| **Minimum**  | &ge; 0   |
| **Maximum**  | &le; 100 |

#### <a name="oneOf_i1_kubernetes_volumes"></a>2.1.7. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes`

**Title:** Volumes

|              |                   |
| ------------ | ----------------- |
| **Type**     | `array of object` |
| **Required** | No                |

**Description:** Volumes to mount. Volumes are only supported with StatefulSet.

|                      | Array restrictions |
| -------------------- | ------------------ |
| **Min items**        | N/A                |
| **Max items**        | N/A                |
| **Items unicity**    | False              |
| **Additional items** | False              |
| **Tuple validation** | See below          |

| Each item of this array must be              | Description    |
| -------------------------------------------- | -------------- |
| [Volume](#oneOf_i1_kubernetes_volumes_items) | A volume mount |

##### <a name="autogenerated_heading_2"></a>2.1.7.1. CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume

**Title:** Volume

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |

**Description:** A volume mount

| Property                                                       | Pattern | Type             | Deprecated | Definition | Title/Description |
| -------------------------------------------------------------- | ------- | ---------------- | ---------- | ---------- | ----------------- |
| - [disk-type](#oneOf_i1_kubernetes_volumes_items_disk-type )   | No      | enum (of string) | No         | -          | The disk type     |
| + [size](#oneOf_i1_kubernetes_volumes_items_size )             | No      | string           | No         | -          | The disk size     |
| + [mount-path](#oneOf_i1_kubernetes_volumes_items_mount-path ) | No      | string           | No         | -          | The mount path    |

##### <a name="oneOf_i1_kubernetes_volumes_items_disk-type"></a>2.1.7.1.1. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > disk-type`

|              |                    |
| ------------ | ------------------ |
| **Type**     | `enum (of string)` |
| **Required** | No                 |
| **Default**  | `"hdd"`            |

**Description:** The disk type

Must be one of:
* "hdd"
* "ssd"

##### <a name="oneOf_i1_kubernetes_volumes_items_size"></a>2.1.7.1.2. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > size`

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | Yes      |

**Description:** The disk size

| Restrictions                      |                                                                                      |
| --------------------------------- | ------------------------------------------------------------------------------------ |
| **Must match regular expression** | ```^[0-9]+(M\|G)i``` [Test](https://regex101.com/?regex=%5E%5B0-9%5D%2B%28M%7CG%29i) |

##### <a name="oneOf_i1_kubernetes_volumes_items_mount-path"></a>2.1.7.1.3. Property `CloudDeploy > oneOf > Kubernetes > kubernetes > volumes > Volume > mount-path`

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | Yes      |

**Description:** The mount path

## <a name="labels"></a>3. Property `CloudDeploy > labels`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Defined in**            | #/$defs/Labels                                          |

| Property                                | Pattern | Type   | Deprecated | Definition                              | Title/Description |
| --------------------------------------- | ------- | ------ | ---------- | --------------------------------------- | ----------------- |
| + [component](#labels_component )       | No      | string | No         | In #/$defs/Label                        | A label value     |
| + [product](#labels_product )           | No      | string | No         | Same as [component](#labels_component ) | A label value     |
| - [iso-country](#labels_iso-country )   | No      | string | No         | Same as [component](#labels_component ) | A label value     |
| - [tenant-alias](#labels_tenant-alias ) | No      | string | No         | Same as [component](#labels_component ) | A label value     |
| - [^[a-z-]+$](#labels_pattern1 )        | Yes     | string | No         | Same as [component](#labels_component ) | A label value     |

### <a name="labels_component"></a>3.1. Property `CloudDeploy > labels > component`

|                |               |
| -------------- | ------------- |
| **Type**       | `string`      |
| **Required**   | Yes           |
| **Defined in** | #/$defs/Label |

**Description:** A label value

| Restrictions                      |                                                                         |
| --------------------------------- | ----------------------------------------------------------------------- |
| **Must match regular expression** | ```^[a-z-]+$``` [Test](https://regex101.com/?regex=%5E%5Ba-z-%5D%2B%24) |

### <a name="labels_product"></a>3.2. Property `CloudDeploy > labels > product`

|                        |                                |
| ---------------------- | ------------------------------ |
| **Type**               | `string`                       |
| **Required**           | Yes                            |
| **Same definition as** | [component](#labels_component) |

**Description:** A label value

### <a name="labels_iso-country"></a>3.3. Property `CloudDeploy > labels > iso-country`

|                        |                                |
| ---------------------- | ------------------------------ |
| **Type**               | `string`                       |
| **Required**           | No                             |
| **Default**            | `"global"`                     |
| **Same definition as** | [component](#labels_component) |

**Description:** A label value

### <a name="labels_tenant-alias"></a>3.4. Property `CloudDeploy > labels > tenant-alias`

|                        |                                |
| ---------------------- | ------------------------------ |
| **Type**               | `string`                       |
| **Required**           | No                             |
| **Default**            | `"multi-tenant"`               |
| **Same definition as** | [component](#labels_component) |

**Description:** A label value

### <a name="labels_pattern1"></a>3.5. Pattern Property `CloudDeploy > labels > Label`
> All properties whose name matches the regular expression
```^[a-z-]+$``` ([Test](https://regex101.com/?regex=%5E%5Ba-z-%5D%2B%24))
must respect the following conditions

|                        |                                |
| ---------------------- | ------------------------------ |
| **Type**               | `string`                       |
| **Required**           | No                             |
| **Same definition as** | [component](#labels_component) |

**Description:** A label value

## <a name="security"></a>4. Property `CloudDeploy > security`

|                           |                                                                           |
| ------------------------- | ------------------------------------------------------------------------- |
| **Type**                  | `combining`                                                               |
| **Required**              | Yes                                                                       |
| **Additional properties** | [[Any type: allowed]](# "Additional Properties of any type are allowed.") |
| **Defined in**            | #/$defs/Security                                                          |

| One of(Option)                     |
| ---------------------------------- |
| [SecurityNone](#security_oneOf_i0) |
| [IAMSettings](#security_oneOf_i1)  |

### <a name="security_oneOf_i0"></a>4.1. Property `CloudDeploy > security > oneOf > SecurityNone`

**Title:** SecurityNone

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

**Description:** Do not use platform security features

### <a name="security_oneOf_i1"></a>4.2. Property `CloudDeploy > security > oneOf > IAMSettings`

**Title:** IAMSettings

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |

**Description:** IAM Security settings

| Property                                                     | Pattern | Type   | Deprecated | Definition           | Title/Description       |
| ------------------------------------------------------------ | ------- | ------ | ---------- | -------------------- | ----------------------- |
| + [permission-prefix](#security_oneOf_i1_permission-prefix ) | No      | string | No         | -                    | IAM permission prefix   |
| - [resources](#security_oneOf_i1_resources )                 | No      | object | No         | In #/$defs/Resources | The requested resources |

#### <a name="security_oneOf_i1_permission-prefix"></a>4.2.1. Property `CloudDeploy > security > oneOf > IAMSettings > permission-prefix`

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | Yes      |

**Description:** IAM permission prefix

| Restrictions                      |                                                                             |
| --------------------------------- | --------------------------------------------------------------------------- |
| **Must match regular expression** | ```^[a-z]{3}$``` [Test](https://regex101.com/?regex=%5E%5Ba-z%5D%7B3%7D%24) |

#### <a name="security_oneOf_i1_resources"></a>4.2.2. Property `CloudDeploy > security > oneOf > IAMSettings > resources`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Default**               | `{"cpu": 0.5, "memory": "512Mi"}`                       |
| **Defined in**            | #/$defs/Resources                                       |

**Description:** The requested resources

| Property                                         | Pattern | Type   | Deprecated | Definition | Title/Description             |
| ------------------------------------------------ | ------- | ------ | ---------- | ---------- | ----------------------------- |
| - [cpu](#security_oneOf_i1_resources_cpu )       | No      | number | No         | -          | Number of requested CPU cores |
| - [memory](#security_oneOf_i1_resources_memory ) | No      | string | No         | -          | Amount of memory to request   |

##### <a name="security_oneOf_i1_resources_cpu"></a>4.2.2.1. Property `CloudDeploy > security > oneOf > IAMSettings > resources > cpu`

|              |          |
| ------------ | -------- |
| **Type**     | `number` |
| **Required** | No       |

**Description:** Number of requested CPU cores

| Restrictions |          |
| ------------ | -------- |
| **Minimum**  | &ge; 0.5 |
| **Maximum**  | &le; 8   |

##### <a name="security_oneOf_i1_resources_memory"></a>4.2.2.2. Property `CloudDeploy > security > oneOf > IAMSettings > resources > memory`

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

**Description:** Amount of memory to request

| Restrictions                      |                                                                                      |
| --------------------------------- | ------------------------------------------------------------------------------------ |
| **Must match regular expression** | ```^[0-9]+(M\|G)i``` [Test](https://regex101.com/?regex=%5E%5B0-9%5D%2B%28M%7CG%29i) |

## <a name="environments"></a>5. Property `CloudDeploy > environments`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | Yes                                                     |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Defined in**            | #/$defs/Environments                                    |

**Description:** Deploy environments

| Property                                  | Pattern | Type        | Deprecated | Definition             | Title/Description      |
| ----------------------------------------- | ------- | ----------- | ---------- | ---------------------- | ---------------------- |
| - [production](#environments_production ) | No      | object      | No         | In #/$defs/Environment | Production environment |
| - [staging](#environments_staging )       | No      | Combination | No         | -                      | Staging environment    |

### <a name="environments_production"></a>5.1. Property `CloudDeploy > environments > production`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Defined in**            | #/$defs/Environment                                     |

**Description:** Production environment

| Property                                                       | Pattern | Type            | Deprecated | Definition | Title/Description           |
| -------------------------------------------------------------- | ------- | --------------- | ---------- | ---------- | --------------------------- |
| + [min-instances](#environments_production_min-instances )     | No      | integer         | No         | -          | Minimum number of instances |
| - [max-instances](#environments_production_max-instances )     | No      | integer         | No         | -          | Maximum number of instances |
| - [domain-mappings](#environments_production_domain-mappings ) | No      | array of string | No         | -          | DomainMappings              |
| - [env](#environments_production_env )                         | No      | object          | No         | -          | EnvVars                     |
| - [regions](#environments_production_regions )                 | No      | array of string | No         | -          | Regions                     |

#### <a name="environments_production_min-instances"></a>5.1.1. Property `CloudDeploy > environments > production > min-instances`

|              |           |
| ------------ | --------- |
| **Type**     | `integer` |
| **Required** | Yes       |

**Description:** Minimum number of instances

| Restrictions |           |
| ------------ | --------- |
| **Minimum**  | &ge; 0    |
| **Maximum**  | &le; 1000 |

#### <a name="environments_production_max-instances"></a>5.1.2. Property `CloudDeploy > environments > production > max-instances`

|              |           |
| ------------ | --------- |
| **Type**     | `integer` |
| **Required** | No        |
| **Default**  | `100`     |

**Description:** Maximum number of instances

| Restrictions |           |
| ------------ | --------- |
| **Minimum**  | &ge; 0    |
| **Maximum**  | &le; 1000 |

#### <a name="environments_production_domain-mappings"></a>5.1.3. Property `CloudDeploy > environments > production > domain-mappings`

**Title:** DomainMappings

|              |                   |
| ------------ | ----------------- |
| **Type**     | `array of string` |
| **Required** | No                |

**Description:** Service domain mappings

|                      | Array restrictions |
| -------------------- | ------------------ |
| **Min items**        | N/A                |
| **Max items**        | N/A                |
| **Items unicity**    | False              |
| **Additional items** | False              |
| **Tuple validation** | See below          |

| Each item of this array must be                          | Description                 |
| -------------------------------------------------------- | --------------------------- |
| [Domain](#environments_production_domain-mappings_items) | Fully qualified domain name |

##### <a name="autogenerated_heading_3"></a>5.1.3.1. CloudDeploy > environments > production > domain-mappings > Domain

**Title:** Domain

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

**Description:** Fully qualified domain name

#### <a name="environments_production_env"></a>5.1.4. Property `CloudDeploy > environments > production > env`

**Title:** EnvVars

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |

**Description:** Environment variables and secrets

| Property                                                 | Pattern | Type   | Deprecated | Definition | Title/Description |
| -------------------------------------------------------- | ------- | ------ | ---------- | ---------- | ----------------- |
| - [^[A-Z0-9_]+$](#environments_production_env_pattern1 ) | Yes     | string | No         | -          | EnvVar            |

##### <a name="environments_production_env_pattern1"></a>5.1.4.1. Pattern Property `CloudDeploy > environments > production > env > EnvVar`
> All properties whose name matches the regular expression
```^[A-Z0-9_]+$``` ([Test](https://regex101.com/?regex=%5E%5BA-Z0-9_%5D%2B%24))
must respect the following conditions

**Title:** EnvVar

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

#### <a name="environments_production_regions"></a>5.1.5. Property `CloudDeploy > environments > production > regions`

**Title:** Regions

|              |                   |
| ------------ | ----------------- |
| **Type**     | `array of string` |
| **Required** | No                |

**Description:** A list of regions in case of multi-regional deploy

|                      | Array restrictions |
| -------------------- | ------------------ |
| **Min items**        | N/A                |
| **Max items**        | N/A                |
| **Items unicity**    | False              |
| **Additional items** | False              |
| **Tuple validation** | See below          |

| Each item of this array must be                        | Description                              |
| ------------------------------------------------------ | ---------------------------------------- |
| [GoogleRegion](#environments_production_regions_items) | A Google Cloud region, e.g. europe-west1 |

##### <a name="autogenerated_heading_4"></a>5.1.5.1. CloudDeploy > environments > production > regions > GoogleRegion

**Title:** GoogleRegion

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

**Description:** A Google Cloud region, e.g. europe-west1

### <a name="environments_staging"></a>5.2. Property `CloudDeploy > environments > staging`

|                           |                                                                           |
| ------------------------- | ------------------------------------------------------------------------- |
| **Type**                  | `combining`                                                               |
| **Required**              | No                                                                        |
| **Additional properties** | [[Any type: allowed]](# "Additional Properties of any type are allowed.") |

**Description:** Staging environment

| One of(Option)                                |
| --------------------------------------------- |
| [StagingNone](#environments_staging_oneOf_i0) |
| [Environment](#environments_staging_oneOf_i1) |

#### <a name="environments_staging_oneOf_i0"></a>5.2.1. Property `CloudDeploy > environments > staging > oneOf > StagingNone`

**Title:** StagingNone

|              |          |
| ------------ | -------- |
| **Type**     | `string` |
| **Required** | No       |

**Description:** Do not use a staging environment

#### <a name="environments_staging_oneOf_i1"></a>5.2.2. Property `CloudDeploy > environments > staging > oneOf > Environment`

|                           |                                                         |
| ------------------------- | ------------------------------------------------------- |
| **Type**                  | `object`                                                |
| **Required**              | No                                                      |
| **Additional properties** | [[Not allowed]](# "Additional Properties not allowed.") |
| **Same definition as**    | [production](#environments_production)                  |

**Description:** A deploy environment

----------------------------------------------------------------------------------------------------------------------------
Generated using [json-schema-for-humans](https://github.com/coveooss/json-schema-for-humans) on 2023-09-11 at 11:42:31 +0200
